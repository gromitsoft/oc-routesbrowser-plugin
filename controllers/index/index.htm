<?php
/**
 * @var \GromIT\RoutesBrowser\Controllers\Index     $this
 * @var \GromIT\RoutesBrowser\Dto\RouteDetails|null $details
 */
?>
<div class="flex-layout-row h100p">
    <div class="control-scrollpanel" id="route-list-container"
         style="min-width: 400px;">
        <div class="layout-relative">
            <div class="layout-absolute">
                <div class="control-scrollbar" data-control="scrollbar">
                    <div class="form-group span-full p-3 flex-layout-row gap-2">
                        <input class="form-control form-control-sm"
                               id="routes-filter"
                               autofocus
                               placeholder="Search..."
                               value="<?= get('search') ?>"/>
                        <button class="btn btn-sm btn-default" id="clear-search" type="button" disabled>
                            <i class="icon-remove"></i>
                        </button>
                        <div class="dropdown dropdonw-fixed">
                            <a href="#" data-toggle="dropdown" class="btn btn-sm btn-default"><i class="icon-download"></i></a>

                            <ul class="dropdown-menu" role="menu" data-dropdown-title="Export Routes">
                                <li role="presentation"><a role="menuitem" tabindex="-1" href="<?= $this->actionUrl('thunder') ?>" class="oc-icon-download">Thunder Client</a></li>
                            </ul>
                        </div>
                        <button class="btn btn-sm btn-secondary" id="collapse-list" type="button"
                                onclick="collapseList()">
                            <i class="icon-arrow-circle-o-left"></i>
                        </button>
                    </div>
                    <?= $this->makePartial('partials/list') ?>
                </div>
            </div>
        </div>
    </div>
    <div class="w-50" id="routes-list-placeholder"
         style="display: none;">
        <button class="btn btn-dark" id="show-list"
                onclick="showList()">
            <i class="icon-arrow-circle-o-right"></i>
        </button>
    </div>
    <div class="flex-layout-column f-grow">
        <div class="control-tabs content-tabs flex-layout-column f-grow" id="details-tabs"
             data-control="tab" data-closable
             data-pane-classes="flex-layout-column custom-full-height f-grow">
            <ul class="nav nav-tabs">
                <?php if ($details): ?>
                    <li class="active"><a href="#contentTabOne"><?= $details->method ?> <?= $details->uri ?></a></li>
                <?php endif ?>
            </ul>
            <div class="tab-content f-grow">
                <?php if ($details): ?>
                    <div class="tab-pane active custom-full-height">
                        <?= $this->makePartial('partials/details') ?>
                    </div>
                <?php endif ?>
            </div>
        </div>
    </div>
</div>
